<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>注册</title>

		<script src="vue.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
	<div id="app" style="width: 80%;margin-left: auto;margin-right: auto;margin-top: 50px;">

		<div id="like_button_container" ></div>

	</div>
	<!-- 加载 React。-->
	<!-- 注意: 部署时，将 "development.js" 替换为 "production.min.js"。-->
	<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
	<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

	<!-- 加载我们的 React 组件。-->
	<script src="like_button.js"></script>

	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>


	<script type="text/javascript">
		var vm = new Vue({
			el : "#app",
			data:{
				name:'aef',
				haoma:'fewa',
				major:'few',
				sex:1,
				college:'few',
				password:'fewafaew',
				remark:'fewafewafawefeawfeaw'
			},
			methods: {
				submit : function () {
					let data = this.$data;
					// console.log(this.data);
					// $.ajax({
					// 	url: '/api/user/add',
					// 	data:data ,
					// 	type: 'POST',
					// 	success:function(){},
					// 	error:()=>{},
					// 	complete:function () {
					// 		console.log('词不达意在')
					// 	}
					// });
					let url = '/api/user/add';
					axios({
						method: 'post',
						url: url,
						data: this.$data,
						// data: JSON.stringify(this.$data),
						// dataType:'json',
						// contentType:'application/json'

					});
					// axios.post(url,this.$data).then((res)=>{
					// 	console.log(JSON.stringify(res))
					// }).catch((res)=>{
					// 	console.log(JSON.stringify(res))
					// })


				}
			}
		});
	</script>
<!--	<script src="../../iframe/dist/layui.all.js"></script>-->
<!--	<script>-->


<!--		function preview() {-->
<!--			let userImg = document.getElementById('userImg').value;-->
<!--			if (userImg == null || userImg == "") {-->
<!--				layer.msg("您没有图片，无法预览");-->
<!--			} else {-->
<!--				layer.open({-->
<!--					title: "头像预览",-->
<!--					type: 1,-->

<!--					area: ['800px', '500px'],-->

<!--					content: '<img src="../../resources/upload/images/user/' + userImg + '"  />'-->
<!--				});-->
<!--			}-->
<!--		}-->
<!--	//Demo-->
<!--	layui.use(['form','jquery','upload','element','layedit'], function(){-->
<!--		-->
<!--	  var form = layui.form;-->
<!--	  var $ = layui.jquery;-->
<!--	  var upload = layui.upload;-->
<!--	  var element = layui.element;-->
<!--	  var layedit = layui.layedit;-->
<!--		layedit.set({-->
<!--			uploadImage: {-->
<!--				url: '/api/user/fuwenben' //接口url-->
<!--				,type: 'post' //默认post-->
<!--			}-->
<!--		});-->
<!--		//构建一个默认的编辑器-->
<!--		var index = layedit.build('fuwenben');-->


<!--		form.on('checkbox(checkbox)', function(data){-->
<!--			if(data.elem.checked==true){-->
<!--				$('#userImg').addClass("layui-btn-disabled").attr("disabled",true);-->
<!--				$('#userImg').val('');-->
<!--				$('#test1').addClass("layui-btn-disabled").attr("disabled",true);-->
<!--				$('#previewId').addClass("layui-btn-disabled").attr("disabled",true);-->
<!--				element.progress('demo', '0%');-->
<!--				document.getElementById('barId').style.display="none";-->
<!--              }-->
<!--			else{-->
<!--				$('#userImg').removeClass("layui-btn-disabled").attr("disabled",false);-->
<!--				$('#test1').removeClass("layui-btn-disabled").attr("disabled",false);-->
<!--				$('#previewId').removeClass("layui-btn-disabled").attr("disabled",false);-->
<!--			  }-->
<!--			// console.log(data.elem); //得到checkbox原始DOM对象-->
<!--			// console.log(data.elem.checked); //是否被选中，true或者false-->
<!--			// console.log(data.value); //复选框value值，也可以通过data.elem.value得到-->
<!--			// console.log(data.othis); //得到美化后的DOM对象-->
<!--		});-->

<!--		//执行实例-->
<!--		var uploadInst = upload.render({-->
<!--			elem: '#test1' //绑定元素-->
<!--			,url: '/api/user/uploadFile'-->
<!--			,progress: function(n, elem) {-->
<!--				document.getElementById('barId').style.display="";-->
<!--				var percent = n + '%' //获取进度百分比-->
<!--				element.progress('demo', percent); //可配合 layui 进度条元素使用-->

<!--			}-->
<!--			,done: function(res){-->
<!--				//上传完毕回调-->
<!--				$('#userImg').val(res.data);-->
<!--			}-->
<!--			,error: function(){-->
<!--				//请求异常回调-->
<!--			}-->
<!--		});-->




<!--		form.verify({-->
<!--			username:(value,item)=>{-->
<!--				console.log("开始验证用户名....." + value)-->
<!--				let ok = true;-->
<!--				if(! /^[\u4e00-\u9fa5]{2,}$/.test(value)  ){-->
<!--					ok = false-->
<!--				}-->


<!--				if(!ok) {-->
<!--					return '只能输入汉字';-->
<!--				}-->

<!--				//没有return 就是验证通过-->
<!--			}-->

<!--			,xuehao:[-->
<!--				/^\d{1,20}$/-->
<!--			    ,'只能输入1~20位的数字'-->
<!--		     ]-->
<!--			,zhuanye:[-->
<!--				/^[\u4e00-\u9fa5]{2,}$/-->
<!--				,'只能输入汉字'-->
<!--			]-->
<!--			,yuanxi:[-->
<!--				/^[\u4e00-\u9fa5]{2,}$/-->
<!--				,'只能输入汉字'-->
<!--			]-->
<!--			,pass:[-->
<!--				/^[\S]{6,12}$/-->
<!--				,'密码必须6到12位，且不能出现空格'-->
<!--			]-->
<!--		});-->


<!--	  //监听提交-->

<!--	  form.on('submit(formDemo)', function(data){-->
<!--	  	data.field.details=layedit.getContent(index).trim();-->
<!--	    console.log(data.field);-->

<!--		$.ajax({-->
<!--			url:'/api/user/add',-->
<!--			data:data.field,-->
<!--			type:'POST',-->
<!--			success:function(res){-->
<!--				// layer.msg(res);-->
<!--				if(res && res.code == 200){-->
<!--					layer.msg("注册成功");-->
<!--					var index1 = parent.layer.getFrameIndex(window.name)-->
<!--					console.log("index:"+index1);//先得到当前iframe层的索引-->
<!--					// layer.open({-->
<!--					// 	title:'上传用户头像',-->
<!--					// 	type:2,-->
<!--					// 	area:['100%','100%'],-->
<!--					// 	content: './uploadPhoto.html?id='+res.data,-->
<!--					// 	end: function(index, layero){-->
<!--					          parent.layer.close(index1); //再执行关闭-->
<!--						// }-->

<!--					// });-->


<!--				}else{-->
<!--					layer.msg("注册失败");-->
<!--				}-->
<!--				-->
<!--			},-->
<!--			error:function(){-->
<!--				layer.msg("注册异常");-->
<!--			}-->
<!--		})-->
<!--		-->
<!--		-->
<!--		-->
<!--	    return false;-->
<!--	  });-->
<!--	});-->
<!--	</script>-->
	</body>
</html>
